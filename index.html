<!doctype html>
<html class="no-js ui-mobile-rendering" lang="en">
	<head>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>UWL Teleport : Home</title>

		<link rel="stylesheet" href="style/jquery.mobile-1.3.2.min.css" />
		<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
		<script type="text/javascript" src="js/jquery.mobile-1.3.2.js"></script>
		
		<link rel="stylesheet" href="style/uwl-teleport.css" />
		<script type="text/javascript" src="js/geoLocation.js"></script>
		<script type="text/javascript" src="js/xmlReader.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCUV4-YgcCcTMrO5kZH9Bpxf7O39hpY5HU&sensor=true" type="text/javascript"></script>
		
		<script type="text/javascript">
			$(document).on("pageshow", "#busRoutes", function() {
	            displayRoute();
			});
			
			$(document).on("pageshow", "#maps", function() {
	            showMap();
			});
			
			$(document).on("pageshow", "#busStops", function() {
			     var routeId = $('#routeIdForStop').attr( 'data-val');
			     displayStop(routeId);
			});
			
			$(document).on("pageshow", "#busTimes", function() {
				var routeId = $('#routeIdForTime').attr( 'data-val');
				var stopId = $('#stopIdForTime').attr( 'data-val');
	            displayTime(routeId, stopId);
	        });
			
			function setShuttleBusData(obj) {
				var param = obj.getAttribute("data-param");
				
				if(obj.getAttribute("data-page") == "busStop") {
					$('#routeIdForStop').attr( 'data-val',param);
				}
				
				if(obj.getAttribute("data-page") == "busTime") {
					$('#routeIdForTime').attr( 'data-val',param.split("-")[0]);
					$('#stopIdForTime').attr( 'data-val',param.split("-")[1]);
				}
			}
			
			function resetShuttleBusData(obj) {
				$('#routeIdForTime').attr( 'data-val','');
				$('#stopIdForTime').attr( 'data-val','');
			}
		</script>
	</head>
	<body>
		<!-- Begin Home page -->
		<div id="home" data-role="page" data-title="Home">

			<div data-role="header" data-theme="b" data-position="fixed">
				<h1>UWL Teleport</h1>
			</div>

			<div data-role="content" class="main_body">
				<div class="logo"><img src="style/images/uwl-logo-1.jpg" /></div>
				<div id="main">
					<h1>Find your way...</h1>
					<div class="main-menu-bar">
						<div class="main-menu-frame">
							<a href="#busRoutes">
								<div class="main-menu-img-frame">
									<img src="style/images/uwl-shuttle-bus.jpg" class="main-menu-img">
								</div>
								<p>Shuttle Bus</p>
							</a>
						</div>
						<div class="main-menu-frame">
							<a href="#buildings"> 
								<div class="main-menu-img-frame">
									<img src="style/images/uwl-buildings.jpg" class="main-menu-img">
								</div>
								<p>UWL Buildings</p>
							</a>
						</div>
						<div class="main-menu-frame">
							<a href="#maps"> 
								<div class="main-menu-img-frame">
									<img src="style/images/uwl-map.jpg" class="main-menu-img">
								</div>
								<p>Map</p>
							</a>
						</div>
						<div class="main-menu-frame">
							<a href="#more"> 
								<div class="main-menu-img-frame">
									<img src="style/images/more-options.jpg" class="main-menu-img">
								</div>
								<p>More...</p>
							</a>
						</div>
					</div>
					<div id="copyright">
						2013 &copy; University of West London
					</div>
				</div>
			</div>
		</div>
		<!-- End Home page -->
		
		<!-- Begin busRoutes page -->
		<div id="busRoutes" data-role="page" data-title="BusRoutes">

			<div data-role="header" data-theme="b" data-position="fixed">
				<a href="#home" data-role="button" data-icon="home" data-iconpos="notext">Home</a>
				<h1>Shuttle Bus</h1>
				<a href="#more" data-role="button" data-icon="grid" data-iconpos="notext" data-inline="true">More</a>
			</div>

			<div data-role="content" class="main_body margin-left-right">
				<h2>Select the route</h2>
				<ul id="ulBusRoutes" data-role="listview" data-inset="true" data-theme="d"></ul>
			</div>

			<div data-role="footer" data-theme="b" data-position="fixed">
				<nav data-role="navbar" data-theme="b">
					<ul>
						<li>
							<a href="#busRoutes" onclick="javascript: resetShuttleBusData();">Shuttle bus</a>
						</li>
						<li>
							<a href="#buildings">Building</a>
						</li>
						<li>
							<a href="#maps">Map</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
		<!-- End busRoutes page -->

		<!-- Begin busStops page -->
		<div id="busStops" data-role="page" data-title="BusStops">

			<div data-role="header" data-theme="b" data-position="fixed">
				<a href="#home" data-role="button" data-icon="home" data-iconpos="notext">Home</a>
				<h1>Shuttle Bus</h1>
				<a href="#more" data-role="button" data-icon="grid" data-iconpos="notext" data-inline="true">More</a>
			</div>

			<div data-role="content" class="main_body margin-left-right">
				<div id="routeIdForStop" data-val=""></div>
				<p>
					<b>All stops from Ealing to Paragon:</b> To view bus arrival in each stop, please click on them.
				</p>
				<ul id="ulBusStops" data-role="listview" data-filter="true" data-filter-placeholder="Search stops..." data-inset="true" data-theme="d"></ul>
			</div>

			<div data-role="footer" data-theme="b" data-position="fixed">
				<nav data-role="navbar" data-theme="b">
					<ul>
						<li>
							<a href="#busRoutes" onclick="javascript: resetShuttleBusData();">Shuttle bus</a>
						</li>
						<li>
							<a href="#buildings">Building</a>
						</li>
						<li>
							<a href="#maps">Map</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
		<!-- End busStops page -->

		<!-- Begin busTimes page -->
		<div id="busTimes" data-role="page" data-title="BusTimes">

			<div data-role="header" data-theme="b" data-position="fixed">
				<a href="#home" data-role="button" data-icon="home" data-iconpos="notext">Home</a>
				<h1>Shuttle Bus</h1>
				<a href="#more" data-role="button" data-icon="grid" data-iconpos="notext" data-inline="true">More</a>
			</div>

			<div data-role="content" class="main_body margin-left-right">
				<div id="routeIdForTime" data-val=""></div>
				<div id="stopIdForTime" data-val=""></div>
				
				<div id="divBusTimes"></div> 
			</div>

			<div data-role="footer" data-theme="b" data-position="fixed">
				<nav data-role="navbar" data-theme="b">
					<ul>
						<li>
							<a href="#busRoutes" onclick="javascript: resetShuttleBusData();">Shuttle bus</a>
						</li>
						<li>
							<a href="#buildings">Building</a>
						</li>
						<li>
							<a href="#maps">Map</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
		<!-- End busTimes page -->
		
		<!-- Start buildings page -->
		<div id="buildings" data-role="page" data-title="Buildings">
			<div data-role="header" data-theme="b" data-position="fixed">
				<a href="#home" data-role="button" data-icon="home" data-iconpos="notext">Home</a>
				<h1>Buildings</h1>
				<a href="#more" data-role="button" data-icon="grid" data-iconpos="notext" data-inline="true">More</a>
			</div>

			<div data-role="content" class="main_body margin-left-right">
				<h2>Click on building</h2>
				<div data-role="collapsible-set" data-theme="d" data-content-theme="c">
				    <div data-role="collapsible">
				        <h3>Ealing Site</h3>
				        <ul data-role="listview" data-inset="false">
							<li>
								<a href="#">Department A1</a>
							</li>
							<li>
								<a href="#">Department A2</a>
							</li>
							<li>
								<a href="#">Department A3</a>
							</li>
							<li>
								<a href="#">Department A4</a>
							</li>
							<li>
								<a href="#">Department A5</a>
							</li>
						</ul>
					</div>
				    <div data-role="collapsible">
				        <h3>Brentford Site</h3>
				        <ul data-role="listview" data-inset="false">
							<li>
								<a href="#">Department B1</a>
							</li>
							<li>
								<a href="#">Department B2</a>
							</li>
							<li>
								<a href="#">Department B3</a>
							</li>
						</ul>
				    </div>
				    <div data-role="collapsible">
				        <h3>Villiers House</h3>
				        <ul data-role="listview" data-inset="false">
							<li>
								<a href="#">Department C1</a>
							</li>
							<li>
								<a href="#">Department C2</a>
							</li>
							<li>
								<a href="#">Department C3</a>
							</li>
						</ul>
				    </div>
				    <div data-role="collapsible">
				        <h3>Walpole</h3>
				        <ul data-role="listview" data-inset="false">
							<li>
								<a href="#">Department D1</a>
							</li>
							<li>
								<a href="#">Department D2</a>
							</li>
							<li>
								<a href="#">Department D3</a>
							</li>
						</ul>
				    </div>
				    <div data-role="collapsible">
				        <h3>Ealing Studios</h3>
				       <ul data-role="listview" data-inset="false">
							<li>
								<a href="#">Department E1</a>
							</li>
							<li>
								<a href="#">Department E2</a>
							</li>
							<li>
								<a href="#">Department E3</a>
							</li>
						</ul>
				    </div>
				    <div data-role="collapsible">
				        <h3>Bramley Road Surgery</h3>
				        <ul data-role="listview" data-inset="false">
							<li>
								<a href="#">Department F1</a>
							</li>
							<li>
								<a href="#">Department F2</a>
							</li>
							<li>
								<a href="#">Department F3</a>
							</li>
						</ul>
				    </div>
				    <div data-role="collapsible">
				        <h3>Vestry Hall</h3>
				        <ul data-role="listview" data-inset="false">
							<li>
								<a href="#">Department G1</a>
							</li>
							<li>
								<a href="#">Department G2</a>
							</li>
							<li>
								<a href="#">Department G3</a>
							</li>
						</ul>
				    </div>
				    <div data-role="collapsible">
				        <h3>Student Village Housing</h3>
				        <ul data-role="listview" data-inset="false">
							<li>
								<a href="#">Department H1</a>
							</li>
							<li>
								<a href="#">Department H2</a>
							</li>
							<li>
								<a href="#">Department H3</a>
							</li>
						</ul>
				    </div>
			    </div>
			</div>
			
			<div data-role="footer" data-theme="b" data-position="fixed">
				<nav data-role="navbar" data-theme="b">
					<ul>
						<li>
							<a href="#busRoutes" onclick="javascript: resetShuttleBusData();">Shuttle bus</a>
						</li>
						<li>
							<a href="#buildings">Building</a>
						</li>
						<li>
							<a href="#maps">Map</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
		<!-- End buildings page -->
		
		<!-- Start map page -->
		<div id="maps" data-role="page" data-title="More">
			<div data-role="header" data-theme="b" data-position="fixed">
				<a href="#home" data-role="button" data-icon="home" data-iconpos="notext">Home</a>
				<h1>Map</h1>
				<a href="#more" data-role="button" data-icon="grid" data-iconpos="notext" data-inline="true">More</a>
			</div>

			<div data-role="content"  class="main_body">
				<div class="ui-bar-c ui-corner-all ui-shadow ui-map">
                    <div id="map"></div>
                </div>
			</div>

			<div data-role="footer" data-theme="b" data-position="fixed">
				<nav data-role="navbar" data-theme="b">
					<ul>
						<li>
							<a href="#busRoutes" onclick="javascript: resetShuttleBusData();">Shuttle bus</a>
						</li>
						<li>
							<a href="#buildings">Building</a>
						</li>
						<li>
							<a href="#maps">Map</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
		<!-- End map page -->
		
		<!-- Start more page -->
		<div id="more" data-role="page" data-title="More">
			<div data-role="header" data-theme="b" data-position="fixed">
				<a href="#home" data-role="button" data-icon="home" data-iconpos="notext">Home</a>
				<h1>More Options</h1>
				<a href="#more" data-role="button" data-icon="grid" data-iconpos="notext" data-theme="b" data-inline="true">More</a>
			</div>

			<div data-role="content" class="main_body margin-left-right">
				<ul data-role="listview" data-inset="true" data-theme="d">
					<li>
						<a href="#news">News</a>
					</li>
					<li>
						<a href="#usefulLinks">Useful Links</a>
					</li>
					<li>
						<a href="#information">More Info</a>
					</li>
					<li>
						<a href="#aboutUs">About Us</a>
					</li>
					<li>
						<a href="#contactUs">Contact Us</a>
					</li>
				</ul>
			</div>

			<div data-role="footer" data-theme="b" data-position="fixed">
				<nav data-role="navbar" data-theme="b">
					<ul>
						<li>
							<a href="#busRoutes" onclick="javascript: resetShuttleBusData();">Shuttle bus</a>
						</li>
						<li>
							<a href="#buildings">Building</a>
						</li>
						<li>
							<a href="#maps">Map</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
		<!-- End more page -->
	</body>
</html>